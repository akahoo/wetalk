<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DEMO</title>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.slim.js"></script>
    <style>
    </style>
</head>

<body>
    <a href="javascript:startPiaoliuping()">漂流瓶</a>
    <br />
    <a href="javascript:startChoujiang()">天天抽奖</a>
    <br />
    <div id="content"></div>
</body>
<script type="text/javascript">
    function startPiaoliuping(){
        var fileName = 'piaoliuping';
        $("#content").html('正在加载中');
        loadCSS('./act/'+fileName+'.css');
        loadJS('./act/'+fileName+'.js',function(){
            $("#content").html('');
            piaoliupingInit();
        });
    }
    function startChoujiang(item){
        var fileName = 'choujiang';
        $("#content").html('正在加载中');
        loadCSS('./act/'+fileName+'.css');
        loadJS('./act/'+fileName+'.js',function(){
            $("#content").html('');
            choujiangInit();
        });
    }
    function loadJS(url, callback) {
        var scripts = $("script[src='"+url+"']");
        if(scripts.length > 0){
            callback();
            return;
        }
        var script = document.createElement('script'),
            fn = callback || function () { };
        script.type = 'text/javascript';
        //IE
        if (script.readyState) {
            script.onreadystatechange = function () {
                if (script.readyState == 'loaded' || script.readyState == 'complete') {
                    script.onreadystatechange = null;
                    fn();
                }
            };
        } else {
            //其他浏览器
            script.onload = function () {
                fn();
            };
        }
        script.src = url;
        document.getElementsByTagName('head')[0].appendChild(script);
    }
    function loadCSS(url) {
        var css = $("link[href='"+url+"']");
        if(css.length > 0){
            return;
        }
        var head = document.getElementsByTagName('head')[0];
        var link = document.createElement('link');
        link.type='text/css';
        link.rel = 'stylesheet';
        link.href = url;
        head.appendChild(link);
    }
</script>

</html>